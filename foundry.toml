[profile.default]
src = "contracts"
out = "out"
libs = ["lib"]
optimizer = true
optimizer_runs = 200
via_ir = true
solc_version = "0.8.28"
# Point test and script to empty dirs during migration
test = "test"
script = "contracts/script"

# Remappings - comprehensive library support
remappings = [
    # Lux Standard paths
    "@luxfi/standard/lib/=lib/openzeppelin-contracts/contracts/",
    "@luxfi/standard/lib-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/",
    "@luxfi/standard/=./",
    "@lux/=contracts/",
    "manifoldxyz/=lib/manifoldxyz/",
    "@manifoldxyz/=lib/manifoldxyz/",
    
    # OpenZeppelin
    "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
    "@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/",
    
    # Account Abstraction (ERC-4337)
    "@account-abstraction/=lib/account-abstraction/contracts/",
    
    # Safe (Gnosis) - v1.5.0
    "@safe-global/safe-smart-account/=lib/safe-smart-account/contracts/",
    "@safe-global/safe-modules/=lib/safe-modules/modules/",
    "@gnosis.pm/safe-contracts/=lib/safe-smart-account/contracts/",
    "safe-smart-account/=lib/safe-smart-account/contracts/",
    
    # DeFi - Uniswap (V2: GPL-2.0, V3: GPL-2.0 converted from BUSL)
    "@uniswap/v2-core/=lib/uni-v2/",
    "@uniswap/v3-core/=lib/uni-v3/",
    "@uniswap/v3-periphery/=lib/uni-v3-periphery/",
    "@uniswap/lib/=lib/uni-lib/",
    "@seaport/=lib/seaport/src/",
    
    # Utilities
    "@solmate/=lib/solmate/src/",
    "solmate/=lib/solmate/src/",
    "clones-with-immutable-args/=lib/clones-with-immutable-args/src/",
    "@rari-capital/solmate/=lib/solmate/",
    
    # PRB Math
    "@prb/math/=lib/prb-math/src/",
    
    # Chainlink
    "@chainlink/contracts/=lib/chainlink/contracts/",
    
    # Compound V3 (Comet)
    "@compound-v3/=lib/compound-v3/contracts/",
    
    # Pyth Network
    "@pyth-network/=lib/pyth/",
    
    # DeFi Protocols
    "@curve/=lib/curve/contracts/",
    "@balancer/=lib/balancer/pkg/",
    "@lido/=lib/lido/contracts/",
    "@pendle/=lib/pendle/contracts/",
    "@luxfi/markets/=contracts/markets/",
    
    # Base64
    "base64-sol/=lib/base64/",
    
    # Hardhat console compatibility
    "hardhat/=lib/forge-std/src/",
    
    # Forge
    "forge-std/=lib/forge-std/src/",
]

[profile.default.fmt]
line_length = 120
tab_width = 4
bracket_spacing = true

[rpc_endpoints]
lux = "https://api.lux.network/ext/bc/C/rpc"
lux_testnet = "https://api.lux-test.network/ext/bc/C/rpc"
